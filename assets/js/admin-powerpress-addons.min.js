!function($){function e(){let e=location.search.slice(1);if(e&&(e=e.split("&"),e.length)){let a={};for(let t in e){let s=e[t].split("=");a[s[0]]=s[1]}return a}return[]}function a(e,a){e=e||{},a=a||"/";let t=[];for(let a in e)t.push(`${a}=${e[a]}`);return`${a}?${t.join("&")}`}function t(e){e.preventDefault();let t=$(this),s=parseInt($(this).data("term_id")),n=parseInt($(this).data("has_description"));s&&!$(this).hasClass("updating-message")&&(n?window.confirm("Créer le flux de podcast ?")&&(t.addClass("updating-message"),$.ajax({url:ajaxurl,data:{action:"add_category_podcasting",term_id:s},type:"post",success:function(e){if(e.success){const n=a({page:"powerpress%2Fpowerpressadmin_categoryfeeds.php",action:"powerpress-editcategoryfeed",cat:s},"/wp-admin/admin.php");confirm("Modifier le podcast ?\n\nFlux RSS : "+e.data)?window.location=n:t.removeClass("updating-message button-smn_powerpress_category_podcasting dashicons-plus").addClass("dashicons-edit").attr("href",n)}else{let a="";for(let t in e.data)a+=e.data[t].code+"\n"+e.data[t].message;t.removeClass("updating-message"),alert(a)}}})):window.confirm("Vous devez d'abord ajouter une description. Souhaitez-vous le faire maintenant ?")&&(window.location=t.parents("tr#tag-"+s).find(".row-title").attr("href")))}function s(){let a=e();if(void 0!==a.term){const e=$("#itunes_image"),t=$('<button class="button">Réinitialiser l\'image</button>'),s=$("<p>Si vous avez changé le nom de la taxonomy, vous pouvez recréer l'image : <br></p>");s.append(t),e.parent().append(s),t.on("click",(function(s){s.preventDefault(),$(this).hasClass("updated-message")||$(this).hasClass("updating-message")||window.confirm("Réinitialiser l'image iTunes ?")&&(t.addClass("updating-message"),$.ajax({url:ajaxurl,data:{action:"reset_podcast_artwork",term_id:a.term},type:"post",success:function(a){if(a.success)e.val(a.data),t.removeClass("updating-message").addClass("updated-message");else{let e="";for(let t in a.data)e+=a.data[t].code+"\n"+a.data[t].message;t.removeClass("updating-message"),alert(e)}}}))}))}}$(document).on("click",".button-smn_powerpress_category_podcasting",t)}(jQuery);