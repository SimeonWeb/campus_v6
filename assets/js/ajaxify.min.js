!function(t,e){var a=t.History,$=t.jQuery,r=t.document;if(!a.enabled)return!1;$((function(){var e,n=$("#content"),i=$("#menu-general"),s="current-menu-item",o="current-menu-ancestor",c=".menu-item",l=$(t),u=$(r),d=$(r.body),f=campus.url;0===n.length&&(n=d),$.expr[":"].internal=function(t){var e,a=$(t).attr("href")||"",r;return r=a.substring(0,f.length)===f||-1===a.indexOf(":")};var p=function(t){const e=new FormData(t),a={};return e.forEach(((t,e)=>a[e]=t)),a},h=function(t){const e=Object.entries(t);return 0===e.length?"":"?"+e.map((([t,e])=>t+"="+e)).join("&")},g=function(e,a){var p=$(e.content),h=a.replace(f,""),g,m,y;if(y=$(e.scripts),d.find(".ajaxify-script").remove(),!p)return r.location.href=a,!1;d.attr("class",e.bodyClass),m=$(e.menu).find(c).filter("."+s),(g=i.find(c)).removeClass(s+" "+o).find("#"+m.attr("id")).addClass(s).parents(c).addClass(o),n.stop(!0,!0),n.html("").append(p).ajaxify(),""===e.wpTitle?r.title=campus.name+" - "+campus.description:r.title=e.wpTitle;try{r.getElementsByTagName("title")[0].innerHTML=r.title.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(t){}y.each((function(){var t=$(this),e=t.text(),a=r.createElement("script");a.className="ajaxify-script",t.attr("src")&&(t[0].async||(a.async=!1),a.src=t.attr("src")),a.appendChild(r.createTextNode(e)),r.body.appendChild(a)})),l.trigger("statechangecomplete"),u.trigger("ajaxready"),$("html, body, .sub-menu").scrollTop(0),setTimeout((function(){d.removeClass("loading").addClass("loaded")}),300),void 0!==t._gaq&&t._gaq.push(["_trackPageview",h])};$.fn.ajaxify=function(){var t=$(this);return t.find('*:not(.no-ajaxy) > a:internal:not(.no-ajaxy,[href^="#"],[href*="wp-login"],[href*="wp-admin"],[href*="adrotate"],[href$=".jpg"],[href$=".jpeg"],[href$=".gif"],[href$=".png"],[target="_blank"])').click((function(t){var e=$(this),r=e.attr("href"),n=e.attr("title")||campus.name+" - "+campus.description;return!(2!=t.which&&!t.metaKey)||(a.pushState(null,n,r),t.preventDefault(),!1)})),t},d.ajaxify(),l.bind("statechange",(function(){var t,e=a.getState().url;d.addClass("loading").removeClass("loaded"),u.trigger("ajaxloading"),$.ajax({url:e,type:"POST",data:{ajax:!0},dataType:"json",success:function(t){g(t,e)},error:function(t,a){return console.error(a,t.responseText),r.location.href=e,!1}})})),u.on("submit","form:not(.wpcf7-form)",(function(){if(d.hasClass("loaded")){d.addClass("loading").removeClass("loaded"),u.trigger("ajaxloading");const t=$(this).attr("action").length?$(this).attr("action"):campus.url,e=$(this).attr("method").length?$(this).attr("method"):"get",r=p(this),n=t+h(r);r.ajax=!0,"get"==e.toLowerCase()?a.pushState(null,null,n):$.ajax({url:t,type:e,data:r,dataType:"json",success:function(){l.trigger("statechange")},error:function(t,e){return console.error(e,t.responseText),l.trigger("statechange"),!1}})}return!1}))}))}(window);